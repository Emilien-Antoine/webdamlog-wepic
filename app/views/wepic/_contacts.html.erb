<script type="text/javascript">
function getPictures(element) {
  var contacts = 'contacts/';
  $.ajax({
    url: contacts.concat(element.innerHTML,'/pictures'),
    data : { id : element.value},
    dataType : 'json',
    success: function(data) {
      if (data) {
      	//Data has been successfully retrieved
      	console.log(data)
      }
    }
  });
}
	
	function Select(element) {
		jQuery('.selected').attr('class', 'contact');
		element.className='selected';
		getPictures(element);
	}
</script>

<table id="contacts">
	<%@contacts.each do |contact| %>
	<tr>
		<td class="<%if contact.online%>online<%else%>offline<%end%>"></td>
		<td><a name="contact" value="<%=contact.id%>" onclick="Select(this);" class="contact"><%= contact.username%></a></td>
	</tr>
	<%end%>
</table>